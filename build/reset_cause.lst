ARM GAS  /tmp/ccfLRzvV.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"reset_cause.cpp"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Intermediate/Src/reset_cause.cpp"
  20              		.section	.text._Z13getResetCausev,"ax",%progbits
  21              		.align	1
  22              		.global	_Z13getResetCausev
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	_Z13getResetCausev:
  28              		.fnstart
  29              	.LFB130:
   1:Intermediate/Src/reset_cause.cpp **** #include "reset_cause.h"
   2:Intermediate/Src/reset_cause.cpp **** 
   3:Intermediate/Src/reset_cause.cpp **** resetCause getResetCause(void) {
  30              		.loc 1 3 32 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
   4:Intermediate/Src/reset_cause.cpp ****     resetCause output;
  35              		.loc 1 4 5 view .LVU1
   5:Intermediate/Src/reset_cause.cpp **** 
   6:Intermediate/Src/reset_cause.cpp ****     if (__HAL_RCC_GET_FLAG(RCC_FLAG_LPWRRST))
  36              		.loc 1 6 5 view .LVU2
  37              		.loc 1 6 9 is_stmt 0 view .LVU3
  38 0000 1B4B     		ldr	r3, .L11
  39 0002 5B6F     		ldr	r3, [r3, #116]
  40              		.loc 1 6 5 view .LVU4
  41 0004 002B     		cmp	r3, #0
  42 0006 21DB     		blt	.L3
   7:Intermediate/Src/reset_cause.cpp ****     {
   8:Intermediate/Src/reset_cause.cpp ****         output = resetCause::RST_CAUSE_LOW_POWER;
   9:Intermediate/Src/reset_cause.cpp ****     }
  10:Intermediate/Src/reset_cause.cpp ****     else if (__HAL_RCC_GET_FLAG(RCC_FLAG_WWDGRST))
  43              		.loc 1 10 10 is_stmt 1 view .LVU5
  44              		.loc 1 10 14 is_stmt 0 view .LVU6
  45 0008 194B     		ldr	r3, .L11
  46 000a 5B6F     		ldr	r3, [r3, #116]
  47              		.loc 1 10 10 view .LVU7
  48 000c 13F0804F 		tst	r3, #1073741824
ARM GAS  /tmp/ccfLRzvV.s 			page 2


  49 0010 23D1     		bne	.L4
  11:Intermediate/Src/reset_cause.cpp ****     {
  12:Intermediate/Src/reset_cause.cpp ****         output = resetCause::RST_CAUSE_WINDOW_WATCHDOG;
  13:Intermediate/Src/reset_cause.cpp ****     }
  14:Intermediate/Src/reset_cause.cpp ****     else if (__HAL_RCC_GET_FLAG(RCC_FLAG_IWDGRST))
  50              		.loc 1 14 10 is_stmt 1 view .LVU8
  51              		.loc 1 14 14 is_stmt 0 view .LVU9
  52 0012 174B     		ldr	r3, .L11
  53 0014 5B6F     		ldr	r3, [r3, #116]
  54              		.loc 1 14 10 view .LVU10
  55 0016 13F0005F 		tst	r3, #536870912
  56 001a 20D1     		bne	.L5
  15:Intermediate/Src/reset_cause.cpp ****     {
  16:Intermediate/Src/reset_cause.cpp ****         output = resetCause::RST_CAUSE_INDEP_WATCHDOG;
  17:Intermediate/Src/reset_cause.cpp ****     }
  18:Intermediate/Src/reset_cause.cpp ****     else if (__HAL_RCC_GET_FLAG(RCC_FLAG_SFTRST))
  57              		.loc 1 18 10 is_stmt 1 view .LVU11
  58              		.loc 1 18 14 is_stmt 0 view .LVU12
  59 001c 144B     		ldr	r3, .L11
  60 001e 5B6F     		ldr	r3, [r3, #116]
  61              		.loc 1 18 10 view .LVU13
  62 0020 13F0805F 		tst	r3, #268435456
  63 0024 1DD1     		bne	.L6
  19:Intermediate/Src/reset_cause.cpp ****     {
  20:Intermediate/Src/reset_cause.cpp ****         // This reset is induced by calling the ARM CMSIS 
  21:Intermediate/Src/reset_cause.cpp ****         // `NVIC_SystemReset()` function!
  22:Intermediate/Src/reset_cause.cpp ****         output = resetCause::RST_CAUSE_SOFTWARE; 
  23:Intermediate/Src/reset_cause.cpp ****     }
  24:Intermediate/Src/reset_cause.cpp ****     else if (__HAL_RCC_GET_FLAG(RCC_FLAG_PORRST))
  64              		.loc 1 24 10 is_stmt 1 view .LVU14
  65              		.loc 1 24 14 is_stmt 0 view .LVU15
  66 0026 124B     		ldr	r3, .L11
  67 0028 5B6F     		ldr	r3, [r3, #116]
  68              		.loc 1 24 10 view .LVU16
  69 002a 13F0006F 		tst	r3, #134217728
  70 002e 1AD1     		bne	.L7
  25:Intermediate/Src/reset_cause.cpp ****     {
  26:Intermediate/Src/reset_cause.cpp ****         output = resetCause::RST_CAUSE_PWRON_PWRDN;
  27:Intermediate/Src/reset_cause.cpp ****     }
  28:Intermediate/Src/reset_cause.cpp ****     else if (__HAL_RCC_GET_FLAG(RCC_FLAG_PINRST))
  71              		.loc 1 28 10 is_stmt 1 view .LVU17
  72              		.loc 1 28 14 is_stmt 0 view .LVU18
  73 0030 0F4B     		ldr	r3, .L11
  74 0032 5B6F     		ldr	r3, [r3, #116]
  75              		.loc 1 28 10 view .LVU19
  76 0034 13F0806F 		tst	r3, #67108864
  77 0038 17D1     		bne	.L8
  29:Intermediate/Src/reset_cause.cpp ****     {
  30:Intermediate/Src/reset_cause.cpp ****         output = resetCause::RST_CAUSE_EXT_RST_PIN;
  31:Intermediate/Src/reset_cause.cpp ****     }
  32:Intermediate/Src/reset_cause.cpp ****     // Needs to come *after* checking the `RCC_FLAG_PORRST` flag in order to
  33:Intermediate/Src/reset_cause.cpp ****     // ensure first that the reset cause is NOT a POR/PDR reset. See note
  34:Intermediate/Src/reset_cause.cpp ****     // below. 
  35:Intermediate/Src/reset_cause.cpp ****     else if (__HAL_RCC_GET_FLAG(RCC_FLAG_BORRST))
  78              		.loc 1 35 10 is_stmt 1 view .LVU20
  79              		.loc 1 35 14 is_stmt 0 view .LVU21
  80 003a 0D4B     		ldr	r3, .L11
ARM GAS  /tmp/ccfLRzvV.s 			page 3


  81 003c 5B6F     		ldr	r3, [r3, #116]
  82              		.loc 1 35 10 view .LVU22
  83 003e 13F0007F 		tst	r3, #33554432
  84 0042 01D1     		bne	.L10
  36:Intermediate/Src/reset_cause.cpp ****     {
  37:Intermediate/Src/reset_cause.cpp ****         output = resetCause::RESET_CAUSE_BROWNOUT;
  38:Intermediate/Src/reset_cause.cpp ****     }
  39:Intermediate/Src/reset_cause.cpp ****     else
  40:Intermediate/Src/reset_cause.cpp ****     {
  41:Intermediate/Src/reset_cause.cpp ****         output = resetCause::RST_CAUSE_UNKNOWN;
  85              		.loc 1 41 16 view .LVU23
  86 0044 0020     		movs	r0, #0
  87 0046 02E0     		b	.L2
  88              	.L10:
  37:Intermediate/Src/reset_cause.cpp ****     }
  89              		.loc 1 37 16 view .LVU24
  90 0048 0720     		movs	r0, #7
  91 004a 00E0     		b	.L2
  92              	.L3:
   8:Intermediate/Src/reset_cause.cpp ****     }
  93              		.loc 1 8 16 view .LVU25
  94 004c 0120     		movs	r0, #1
  95              	.L2:
  96              	.LVL0:
  42:Intermediate/Src/reset_cause.cpp ****     }
  43:Intermediate/Src/reset_cause.cpp **** 
  44:Intermediate/Src/reset_cause.cpp ****     // Clear all the reset flags or else they will remain set during future
  45:Intermediate/Src/reset_cause.cpp ****     // resets until system power is fully removed.
  46:Intermediate/Src/reset_cause.cpp ****     __HAL_RCC_CLEAR_RESET_FLAGS();
  97              		.loc 1 46 5 is_stmt 1 view .LVU26
  98 004e 084A     		ldr	r2, .L11
  99 0050 536F     		ldr	r3, [r2, #116]
 100 0052 43F08073 		orr	r3, r3, #16777216
 101 0056 5367     		str	r3, [r2, #116]
  47:Intermediate/Src/reset_cause.cpp **** 
  48:Intermediate/Src/reset_cause.cpp ****     return output;
 102              		.loc 1 48 5 view .LVU27
  49:Intermediate/Src/reset_cause.cpp **** }  ...
 103              		.loc 1 49 1 is_stmt 0 view .LVU28
 104 0058 7047     		bx	lr
 105              	.LVL1:
 106              	.L4:
  12:Intermediate/Src/reset_cause.cpp ****         output = resetCause::RST_CAUSE_WINDOW_WATCHDOG;
 107              		.loc 1 12 16 view .LVU29
 108 005a 0220     		movs	r0, #2
 109 005c F7E7     		b	.L2
 110              	.L5:
  16:Intermediate/Src/reset_cause.cpp ****         output = resetCause::RST_CAUSE_INDEP_WATCHDOG;
 111              		.loc 1 16 16 view .LVU30
 112 005e 0320     		movs	r0, #3
 113 0060 F5E7     		b	.L2
 114              	.L6:
  22:Intermediate/Src/reset_cause.cpp ****         output = resetCause::RST_CAUSE_SOFTWARE; 
 115              		.loc 1 22 16 view .LVU31
 116 0062 0420     		movs	r0, #4
 117 0064 F3E7     		b	.L2
 118              	.L7:
ARM GAS  /tmp/ccfLRzvV.s 			page 4


  26:Intermediate/Src/reset_cause.cpp ****         output = resetCause::RST_CAUSE_PWRON_PWRDN;
 119              		.loc 1 26 16 view .LVU32
 120 0066 0520     		movs	r0, #5
 121 0068 F1E7     		b	.L2
 122              	.L8:
  30:Intermediate/Src/reset_cause.cpp ****         output = resetCause::RST_CAUSE_EXT_RST_PIN;
 123              		.loc 1 30 16 view .LVU33
 124 006a 0620     		movs	r0, #6
 125 006c EFE7     		b	.L2
 126              	.L12:
 127 006e 00BF     		.align	2
 128              	.L11:
 129 0070 00380240 		.word	1073887232
 130              		.cfi_endproc
 131              	.LFE130:
 132              		.cantunwind
 133              		.fnend
 135              		.text
 136              	.Letext0:
 137              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 138              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 139              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xc.h"
 140              		.file 5 "Intermediate/Inc/reset_cause.h"
ARM GAS  /tmp/ccfLRzvV.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 reset_cause.cpp
     /tmp/ccfLRzvV.s:21     .text._Z13getResetCausev:00000000 $t
     /tmp/ccfLRzvV.s:27     .text._Z13getResetCausev:00000000 _Z13getResetCausev
     /tmp/ccfLRzvV.s:129    .text._Z13getResetCausev:00000070 $d
.ARM.exidx.text._Z13getResetCausev:00000000 $d

NO UNDEFINED SYMBOLS
